---
layout: post
title: 指针常量，常指针，指向常量的常指针
category: C语言
tags: [C语言]
---

# 指针常量，常指针，指向常量的常指针

1.指针常量

从字面意思可以看出，指针是一个常量，也就是地址不能被修改。

int*  —— const p

特点是指针指向的数值可以改变，然而指针所保存的地址却不可以改变。

 

.#include <iostream>
using namespace std;

void main()
{

 int a = 10;
 int const *p = &a;
 cout<<a<<endl;
 cout<<*p<<endl;
    int b = 20;
}

我们可以改变指针变量p所指向的内容，而不能改变p的地址空间，如 添加上p = &b;我们就会发现编译错误！

2.指向常量的指针

const ——int*p

特点是指针所保存的地址可以改变，然而指针所指向的值却不可以改变。同理，当添加*p = b时，会发生编译错误！

3.指向常量的常指针

const int const*p

特点是指针所保存的地址不可变，指针所指向的数值也不可变

4.空指针

顾名思义，就是保存地址为空的指针

int *p=0;   //此时的指针p就是一个空指针

5.内存泄露

int *p=new int;

p=new int;

delete p;        //用delete来释放刚刚申请的那块内存区域，注意此时指针p还是可能依旧指向的这块区域(注意可能二字)。

这样就会有内存丢失，也就是所谓的内存泄漏。

因为第一行我们在堆中申请了一块int型的区域，并且用指针p指向该空间。但是紧接着我们又在堆中申请了一块int型的区域，用p指向了该空间。

那么先前申请的那块区域就无法访问了，但同时这块无法访问的区域没有被删除。所以就造成了内存泄漏。

6.迷途指针

int *p=new int;   //在堆中申请一块区域，用p指向这块区域

所以此时指针p的指向地址具有不确定性，故而称作迷途指针，避免的方法是将指针初始化为空指针。
